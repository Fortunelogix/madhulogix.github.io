<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI DBA — Recommender | Fortune Logix</title>
  <meta name="description" content="AI DBA Recommender — prioritized, client-ready recommendations for performance, backups, security, and upgrades. Demo mode.">

  <style>
    :root{
      --bg:#f6f9fc; --card:#ffffff; --accent:#0d6efd; --accent-2:#06b6d4; --muted:#6b7280;
      --radius:12px; --shadow: 0 10px 30px rgba(16,24,40,0.08); --maxw:1200px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#f7fbff 0%, #f3f7fb 100%);color:#071226;-webkit-font-smoothing:antialiased}
    .container{max-width:var(--maxw);margin:0 auto;padding:20px}

    .header{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
    .brand{font-weight:800;color:var(--accent);text-decoration:none;font-size:18px}
    .nav{display:flex;gap:12px;align-items:center}
    .nav a{color:#071226;text-decoration:none;padding:6px 8px;border-radius:8px;font-size:14px}
    .nav a.active{color:var(--accent);font-weight:700}

    .hero{display:flex;gap:20px;align-items:center;margin-top:6px}
    .hero-left{flex:1}
    .hero-left h1{font-size:28px;margin:0 0 8px}
    .lead{color:var(--muted);margin:0 0 12px}
    .hero-media{display:flex;gap:12px;align-items:center;width:100%}
    .hero-media img, .hero-media video{width:100%;max-width:460px;border-radius:12px;box-shadow:var(--shadow);height:260px;object-fit:cover}

    .grid{display:grid;grid-template-columns:1fr 420px;gap:22px;margin-top:22px}
    @media (max-width:980px){ .grid{grid-template-columns:1fr} .hero-media{flex-direction:column} .hero-media img, .hero-media video{height:180px} }

    .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px}
    label{display:block;font-size:14px;color:#071226;margin-bottom:8px}
    select,input[type="text"],textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #e6eef8;background:#fff;font-size:14px}
    .controls{display:flex;gap:10px;align-items:center}
    .btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;border:none;padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:700}
    .btn-ghost{background:transparent;border:1px solid #e6eef8;padding:10px 12px;border-radius:10px;cursor:pointer}

    .chips{display:flex;gap:8px;flex-wrap:wrap;margin:6px 0}
    .chip{padding:8px 10px;border-radius:999px;border:1px solid #e6eef8;background:#fff;cursor:pointer;font-weight:600}
    .chip.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#042027;border:0;transform:translateY(-3px)}

    .pri{display:inline-block;padding:6px 10px;border-radius:8px;font-weight:700}
    .pri.high{background:#ffefee;color:#9b1c15}
    .pri.medium{background:#fff5e6;color:#7a4a08}
    .pri.low{background:#ecffef;color:#0b5131}

    .rec-list{margin:12px 0 0 0;padding:0;list-style:none}
    .rec-item{display:flex;justify-content:space-between;gap:12px;padding:12px;border-radius:10px;border:1px solid #eef4ff;background:linear-gradient(90deg,#fff,#fbfdff);margin-bottom:10px;align-items:center}
    .rec-left{flex:1}
    .rec-title{font-weight:700;margin:0}
    .rec-desc{color:var(--muted);margin:6px 0 0;font-size:13px}

    .meta{color:var(--muted);font-size:13px;margin-top:8px}

    .download{display:inline-flex;gap:8px;align-items:center;padding:8px 12px;border-radius:10px;border:1px solid #e6eef8;background:#fff;cursor:pointer;text-decoration:none;color:#071226}

    footer{margin-top:26px;text-align:center;color:var(--muted);font-size:13px;padding-bottom:20px}
  </style>
</head>
<body>
  <div class="container">
    
      <header class="site-header" style="background:#fff;border-bottom:1px solid rgba(0,0,0,0.06);">
  <div style="max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:12px 18px;font-family:Inter,Arial,Helvetica,sans-serif">
    <div style="display:flex;gap:18px;align-items:center">
      <a href="/" style="font-weight:700;color:#0d6efd;text-decoration:none;font-size:18px">Fortune Logix</a>
      <nav style="display:flex;gap:12px;align-items:center">
        <a href="/" style="color:#111;text-decoration:none">Home</a>
        <a href="about.html" style="color:#111;text-decoration:none">About</a>
        <a href="services.html" style="color:#111;text-decoration:none">Services</a>
          	<a href="gallery.html" style="color:#111;text-decoration:none">Gallery</a>		  
        <!-- AI DBA dropdown -->
        <div class="nav-dropdown" style="position:relative">
          <button class="nav-dropbtn" aria-expanded="false" style="background:transparent;border:0;color:#0d6efd;font-weight:700;cursor:pointer;padding:6px 8px;border-radius:6px">AI DBA ▾</button>
          <div class="nav-dropmenu" role="menu" style="position:absolute;left:0;top:38px;min-width:220px;background:#fff;border:1px solid rgba(0,0,0,0.08);box-shadow:0 8px 20px rgba(16,24,40,0.08);border-radius:10px;padding:8px;display:none;z-index:40">
            <a role="menuitem" href="ai-dba-health-check.html" style="display:block;padding:10px;border-radius:6px;color:#0f172a;text-decoration:none">Health check advisor</a>
            <a role="menuitem" href="ai-dba-security-scan.html" style="display:block;padding:10px;border-radius:6px;color:#0f172a;text-decoration:none">Security vulnerability scanner</a>
            <a role="menuitem" href="ai-dba-recommender.html" style="display:block;padding:10px;border-radius:6px;color:#0f172a;text-decoration:none">Recommender</a>
          </div>
        </div>
         <a href="contact.html" style="color:#111;text-decoration:none">Contact</a>

      </nav>
    </div>
  </div>

  <script>
  // small dropdown behavior - keeps header responsive for touch
  (function(){
    var dd = document.currentScript && document.currentScript.previousElementSibling || document.querySelector('.nav-dropdown');
    if(!dd) dd = document.querySelector('.nav-dropdown');
    if(!dd) return;
    var btn = dd.querySelector('.nav-dropbtn');
    var menu = dd.querySelector('.nav-dropmenu');
    function toggle(v){ menu.style.display = v ? 'block' : 'none'; btn.setAttribute('aria-expanded', !!v); }
    btn.addEventListener('click', function(e){ e.stopPropagation(); toggle(menu.style.display !== 'block'); });
    document.addEventListener('click', function(){ toggle(false); });
    // keyboard accessibility
    btn.addEventListener('keydown', function(e){
      if(e.key === 'ArrowDown' || e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggle(true); menu.querySelector('a').focus(); }
      if(e.key === 'Escape') toggle(false);
    });
  })();
  </script>
</header>

    <section class="hero">
      <div class="hero-left">
        <h1>Recommender — Prioritized DB Actions</h1>
        <p class="lead">Generate customer-ready, prioritized recommendations for performance, backup, security, and upgrades. Minimal input, instant results — demo mode.</p>

        <div class="hero-media" aria-hidden="false">
          <video playsinline autoplay muted loop poster="https://images.unsplash.com/photo-1509395176047-4a66953fd231?q=80&w=1200&auto=format&fit=crop" style="border-radius:12px;max-width:460px">
            <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4"/>
          </video>

          <!-- responsive picture with lazy loading and inline SVG fallback -->
          <picture style="display:block;max-width:460px;">
            <source srcset="https://images.unsplash.com/photo-1552864949-1b3e7d5e1c6a?q=80&w=1200&auto=format&fit=crop" media="(min-width:540px)">
            <source srcset="https://images.unsplash.com/photo-1552864949-1b3e7d5e1c6a?q=80&w=800&auto=format&fit=crop" media="(max-width:539px)">
            <img id="recommender-img"
                 alt="Recommender dashboard"
                 loading="lazy"
                 decoding="async"
                 style="border-radius:12px;box-shadow:var(--shadow);width:100%;height:260px;object-fit:cover"
                 src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='800' height='450'><rect width='100%' height='100%' fill='%23f3f7fb'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' fill='%236b7280' font-size='20'>Recommender dashboard</text></svg>" />
          </picture>
        </div>
      </div>

      <aside style="width:320px">
        <div class="card">
          <h4 style="margin:0 0 8px">Quick presets</h4>
          <div class="chips" aria-hidden="false">
            <button class="chip" data-preset="performance">Performance-first</button>
            <button class="chip" data-preset="backup">Backups-first</button>
            <button class="chip" data-preset="security">Security-first</button>
            <button class="chip" data-preset="upgrade">Upgrade planning</button>
          </div>
          <div class="meta">Pick a preset to auto-fill constraints and generate tailored recommendations.</div>
        </div>
      </aside>
    </section>

    <div class="grid" role="main">
      <section class="card">
        <h3 style="margin:0 0 12px">Generate recommendations</h3>

        <label>Focus area</label>
        <select id="focus">
          <option value="performance">Performance</option>
          <option value="backup">Backups & Recovery</option>
          <option value="security">Security</option>
          <option value="upgrade">Upgrade planning</option>
          <option value="cost">Cost optimization</option>
        </select>

        <label style="margin-top:12px">Database size (GB)</label>
        <input id="db-size" type="text" placeholder="e.g. 1200">

        <label style="margin-top:12px">Constraints (select all that apply)</label>
        <div style="display:flex;gap:12px;flex-wrap:wrap">
          <label><input type="checkbox" class="constraint" value="no_downtime"> No downtime</label>
          <label><input type="checkbox" class="constraint" value="limited_window"> Limited maintenance window</label>
          <label><input type="checkbox" class="constraint" value="budget"> Budget constraint</label>
          <label><input type="checkbox" class="constraint" value="cloud"> Cloud managed</label>
        </div>

        <label style="margin-top:12px">Additional notes (optional)</label>
        <textarea id="notes" rows="3" placeholder="Short context to tailor recommendations"></textarea>

        <div style="display:flex;gap:12px;margin-top:12px;align-items:center">
          <button id="gen" class="btn-primary">Generate Recommendations</button>
          <button id="clear" class="btn-ghost">Reset</button>
          <a id="download" class="download" style="display:none">Download JSON</a>
        </div>

        <div id="results" style="margin-top:16px;display:none">
          <h4 style="margin:0 0 8px">Top recommendations</h4>
          <div id="rec-container"></div>
          <div class="meta" id="rec-meta"></div>
        </div>
      </section>

      <aside class="card">
        <h4 style="margin:0 0 8px">Why use the Recommender</h4>
        <p class="muted" style="margin:0 0 10px">Create prioritized, concise action items you can share with prospects. Each recommendation includes priority, short rationale and an estimated impact.</p>

        <h4 style="margin-top:12px;margin-bottom:8px">Example outputs</h4>
        <div style="display:flex;flex-direction:column;gap:10px">
          <div style="padding:10px;border-radius:8px;background:#fbfdff;border:1px solid #eef7ff">
            <strong>Performance:</strong> Tune top 5 SQLs, add partitioning, increase PGA. <span class="pri medium">Medium</span>
          </div>
          <div style="padding:10px;border-radius:8px;background:#fbfdff;border:1px solid #eef7ff">
            <strong>Security:</strong> Patch CVEs, enforce password policy, enable TDE. <span class="pri high">High</span>
          </div>
        </div>
      </aside>
    </div>

    <footer>© Fortune Logix — Demo mode. Replace with server-side logic for production recommendations.</footer>
  </div>

  <script>
    // dropdown menu
    (function(){
      var btn = document.getElementById('ai-dba-btn');
      var menu = document.getElementById('ai-dba-menu');
      if(!btn || !menu) return;
      function toggle(v){ menu.style.display = v ? 'block' : 'none'; btn.setAttribute('aria-expanded', !!v); }
      btn.addEventListener('click', function(e){ e.stopPropagation(); toggle(menu.style.display !== 'block'); });
      document.addEventListener('click', function(){ toggle(false); });
    })();

    // image fallback + preload
    document.addEventListener('DOMContentLoaded', function () {
      // robust fallback for recommender image
      var img = document.getElementById('recommender-img');
      var remote = 'https://images.unsplash.com/photo-1552864949-1b3e7d5e1c6a?q=80&w=1200&auto=format&fit=crop';
      if(img){
        img.addEventListener('error', function onErr(){
          if (this.dataset.fallbackApplied) return;
          this.dataset.fallbackApplied = '1';
          this.src = "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='800' height='450'><rect width='100%' height='100%' fill='%23f3f7fb'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' fill='%236b7280' font-size='18'>Image not available</text></svg>";
          this.removeEventListener('error', onErr);
        });
        // preload remote and swap if OK
        var pre = new Image();
        pre.crossOrigin = 'anonymous';
        pre.onload = function(){ if(!img.dataset.fallbackApplied) img.src = remote; };
        pre.onerror = function(){ /* keep inline SVG fallback */ };
        pre.src = remote;
      }

      // upgrade all broken images across page to fallback
      document.querySelectorAll('img').forEach(function(i){
        i.addEventListener('error', function onErr(){
          if (this.dataset.fallbackApplied) return;
          this.dataset.fallbackApplied = '1';
          this.src = "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='800' height='450'><rect width='100%' height='100%' fill='%23f3f7fb'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' fill='%236b7280' font-size='18'>Image not available</text></svg>";
          this.removeEventListener('error', onErr);
        });
      });
    });

    // recommender logic
    (function(){
      var gen = document.getElementById('gen');
      var clear = document.getElementById('clear');
      var focus = document.getElementById('focus');
      var dbSize = document.getElementById('db-size');
      var notes = document.getElementById('notes');
      var results = document.getElementById('results');
      var rc = document.getElementById('rec-container');
      var rm = document.getElementById('rec-meta');
      var download = document.getElementById('download');
      var chips = document.querySelectorAll('.chip');

      chips.forEach(function(c){
        c.addEventListener('click', function(){
          chips.forEach(function(x){ x.classList.remove('active'); });
          c.classList.add('active');
          var p = c.getAttribute('data-preset');
          focus.value = p === 'performance' ? 'performance' : p === 'backup' ? 'backup' : p === 'security' ? 'security' : p === 'upgrade' ? 'upgrade' : 'performance';
          document.querySelectorAll('.constraint').forEach(function(cb){ cb.checked = false; });
          if(p === 'performance') { var el = document.querySelector('input[value="limited_window"]'); if(el) el.checked = true; }
          if(p === 'security') { var el = document.querySelector('input[value="no_downtime"]'); if(el) el.checked = true; }
        });
      });

      function generate(payload){
        var size = parseInt((payload.db_size||'0').replace(/\D/g,'')) || 0;
        var constraints = payload.constraints || [];
        var recs = [];
        var meta = { estimated_impact: 'Medium', urgency: 'Normal' };
        function push(title, desc, priority){ recs.push({ title: title, desc: desc, priority: priority }); }

        if(payload.focus === 'performance'){
          push('Run AWR & identify top 5 SQL','Collect AWR/ASH and tune top consuming statements.','High');
          push('Tune PGA/SGA and optimizer stats','Adjust memory and gather stats to improve plans.','Medium');
          if(size > 500) push('Consider partitioning large tables','Partition very large tables by date or range for performance.','High');
        } else if(payload.focus === 'backup'){
          push('Verify backup & retention','Ensure incremental backups + verification are in place.','High');
          push('Enable backup encryption','Encrypt backups at rest and in transit (TDE + network encryption).','Medium');
        } else if(payload.focus === 'security'){
          push('Apply critical security patches','Update DB patch set to mitigate known CVEs.','High');
          push('Enforce password & session policies','Implement complexity and rotation policies and MFA where possible.','Medium');
        } else if(payload.focus === 'upgrade'){
          push('Plan staged upgrade','Test and stage upgrade in a mirrored environment before production rollout.','High');
          push('Review deprecated features','Identify deprecated features and prepare migration steps.','Medium');
        } else {
          push('Run baseline assessment','Collect performance and config baseline for trend analysis.','Medium');
        }

        if(constraints.indexOf('no_downtime') !== -1){
          push('Use rolling/online operations where possible','Prefer online patching and rolling upgrades to avoid downtime.','High');
          meta.estimated_impact = 'Lower if no downtime allowed';
        }
        if(constraints.indexOf('budget') !== -1){
          push('Prioritize low-cost quick wins','Index tuning and statistics typically provide high ROI with low cost.','Medium');
          meta.estimated_impact = 'Cost-sensitive';
        }
        if(constraints.indexOf('cloud') !== -1){
          push('Leverage managed services features','Use cloud-native backup and monitoring if available to reduce ops overhead.','Medium');
        }

        var order = { High: 0, Medium: 1, Low: 2 };
        var unique = {};
        recs = recs.filter(function(r){
          var k = r.title;
          if(unique[k]) return false;
          unique[k] = true;
          return true;
        }).sort(function(a,b){ return order[a.priority] - order[b.priority]; });

        if(recs.some(r => r.priority === 'High')) meta.urgency = 'Immediate';
        return { recs: recs, meta: meta };
      }

      function render(output){
        rc.innerHTML = '';
        output.recs.forEach(function(r){
          var el = document.createElement('div'); el.className = 'rec-item';
          var left = document.createElement('div'); left.className = 'rec-left';
          var title = document.createElement('div'); title.className = 'rec-title'; title.textContent = r.title;
          var desc = document.createElement('div'); desc.className = 'rec-desc'; desc.textContent = r.desc;
          left.appendChild(title); left.appendChild(desc);
          var pri = document.createElement('div'); pri.className = 'pri ' + (r.priority === 'High' ? 'high' : r.priority === 'Medium' ? 'medium' : 'low'); pri.textContent = r.priority;
          el.appendChild(left); el.appendChild(pri);
          rc.appendChild(el);
        });
        rm.textContent = 'Urgency: ' + output.meta.urgency + ' • ' + output.meta.estimated_impact;
        results.style.display = 'block';
      }

      function collectPayload(){
        var constraints = Array.prototype.slice.call(document.querySelectorAll('.constraint:checked')).map(function(cb){ return cb.value; });
        return {
          focus: focus.value,
          db_size: dbSize.value,
          constraints: constraints,
          notes: notes.value
        };
      }

      gen.addEventListener('click', function(){
        gen.disabled = true; gen.textContent = 'Generating...';
        setTimeout(function(){
          var payload = collectPayload();
          var out = generate(payload);
          render(out);
          var report = { generated: new Date().toISOString(), payload: payload, recommendations: out.recs, meta: out.meta };
          download.style.display = 'inline-flex';
          download.onclick = function(){
            var blob = new Blob([JSON.stringify(report, null, 2)], { type: 'application/json' });
            var url = URL.createObjectURL(blob);
            var a = document.createElement('a'); a.href = url; a.download = 'recommender-' + (new Date().toISOString().slice(0,19).replace(/[:T]/g,'-')) + '.json';
            document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
          };
          gen.disabled = false; gen.textContent = 'Generate Recommendations';
        }, 450);
      });

      clear.addEventListener('click', function(){
        focus.value = 'performance'; dbSize.value = ''; notes.value = ''; document.querySelectorAll('.constraint').forEach(function(cb){ cb.checked = false; }); rc.innerHTML = ''; results.style.display = 'none'; download.style.display = 'none';
      });

      dbSize.addEventListener('keydown', function(e){ if(e.key === 'Enter'){ e.preventDefault(); gen.click(); } });

      clear.click();
    })();
  </script>
</body>
</html>
